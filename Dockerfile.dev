FROM node:24-alpine

# Install Bun
RUN npm install -g bun

WORKDIR /app

# Security: Set non-root user
USER node

ENV NODE_ENV=development
EXPOSE 3000

# Install deps and start Nuxt in dev mode with HMR
CMD ["sh", "-lc", "bun install && bun --bun dev -p 3000 -H 0.0.0.0"]

